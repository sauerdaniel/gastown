{"id":"gt-6b5","title":"Digest: mol-refinery-patrol","description":"Patrol: merge queue empty, no branches to process","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T02:07:07.703848+01:00","updated_at":"2026-01-11T02:07:07.703848+01:00","closed_at":"2026-01-11T02:07:07.703783+01:00","close_reason":"Squashed from 11 wisps","dependencies":[{"issue_id":"gt-6b5","depends_on_id":"gt-wisp-7ij","type":"parent-child","created_at":"2026-01-11T02:07:07.70444+01:00","created_by":"gastown/refinery"}]}
{"id":"gt-7e7","title":"Refinery Patrol","description":"Merge queue processor patrol loop with verification gates.","status":"open","priority":2,"issue_type":"molecule","created_at":"2026-01-11T00:44:47.453514+01:00","created_by":"mayor","updated_at":"2026-01-11T00:44:47.453514+01:00"}
{"id":"gt-9hv","title":"Merge: furiosa-mk8zxyrc","description":"branch: polecat/furiosa-mk8zxyrc\ntarget: main\nsource_issue: furiosa-mk8zxyrc\nrig: gastown\nagent_bead: gt-gastown-polecat-furiosa\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T01:36:21.738204+01:00","created_by":"gastown/polecats/furiosa","updated_at":"2026-01-11T01:49:54.588334+01:00","closed_at":"2026-01-11T01:49:54.588334+01:00","close_reason":"Merged to main at fd643ab2","labels":["gt:merge-request"]}
{"id":"gt-b7a","title":"Digest: mol-refinery-patrol","description":"Patrol: MQ empty, no work processed. Inbox clean.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T02:24:29.610773+01:00","updated_at":"2026-01-11T02:24:29.610773+01:00","closed_at":"2026-01-11T02:24:29.610709+01:00","close_reason":"Squashed from 11 wisps","dependencies":[{"issue_id":"gt-b7a","depends_on_id":"gt-wisp-uxc","type":"parent-child","created_at":"2026-01-11T02:24:29.61136+01:00","created_by":"gastown/refinery"}]}
{"id":"gt-gastown-polecat-furiosa","title":"gt-gastown-polecat-furiosa","description":"gt-gastown-polecat-furiosa\n\nrole_type: polecat\nrig: gastown\nagent_state: spawning\nhook_bead: hq-nla\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: gt-9hv\nnotification_level: null","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-11T01:29:17.776422+01:00","created_by":"mayor","updated_at":"2026-01-11T01:36:21.900775+01:00","labels":["gt:agent"]}
{"id":"gt-gastown-polecat-nux","title":"gt-gastown-polecat-nux","description":"gt-gastown-polecat-nux\n\nrole_type: polecat\nrig: gastown\nagent_state: spawning\nhook_bead: hq-tf2\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-11T02:27:45.072127+01:00","created_by":"mayor","updated_at":"2026-01-11T02:29:17.249123+01:00","labels":["gt:agent"],"role_bead":"hq-polecat-role"}
{"id":"gt-gastown-polecat-rictus","title":"gt-gastown-polecat-rictus","description":"gt-gastown-polecat-rictus\n\nrole_type: polecat\nrig: gastown\nagent_state: spawning\nhook_bead: hq-yvq\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-11T02:39:29.57748+01:00","created_by":"mayor","updated_at":"2026-01-11T02:43:44.835014+01:00","labels":["gt:agent"],"role_bead":"hq-polecat-role"}
{"id":"gt-gastown-polecat-slit","title":"gt-gastown-polecat-slit","description":"gt-gastown-polecat-slit\n\nrole_type: polecat\nrig: gastown\nagent_state: spawning\nhook_bead: hq-g24\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-11T02:29:34.631906+01:00","created_by":"mayor","updated_at":"2026-01-11T02:29:50.914747+01:00","labels":["gt:agent"],"hook_bead":"hq-g24","role_bead":"hq-polecat-role"}
{"id":"gt-gastown-refinery","title":"Refinery for gastown - processes merge queue.","description":"Refinery for gastown - processes merge queue.\n\nrole_type: refinery\nrig: gastown\nagent_state: idle\nhook_bead: null\nrole_bead: hq-refinery-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-11T00:44:46.849501+01:00","created_by":"mayor","updated_at":"2026-01-11T00:44:46.849501+01:00","labels":["gt:agent"]}
{"id":"gt-gastown-witness","title":"Witness for gastown - monitors polecat health and progress.","description":"Witness for gastown - monitors polecat health and progress.\n\nrole_type: witness\nrig: gastown\nagent_state: idle\nhook_bead: null\nrole_bead: hq-witness-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-11T00:44:46.510234+01:00","created_by":"mayor","updated_at":"2026-01-11T00:44:46.510234+01:00","labels":["gt:agent"]}
{"id":"gt-gbq","title":"Digest: mol-refinery-patrol","description":"Patrol: merged polecat/furiosa-mk8zxyrc, fixed pre-existing test failure (prime flag validation)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T01:45:03.736844+01:00","updated_at":"2026-01-11T01:45:03.736844+01:00","closed_at":"2026-01-11T01:45:03.736788+01:00","close_reason":"Squashed from 11 wisps","dependencies":[{"issue_id":"gt-gbq","depends_on_id":"gt-wisp-8dz","type":"parent-child","created_at":"2026-01-11T01:45:03.737376+01:00","created_by":"gastown/refinery"}]}
{"id":"gt-lh4","title":"Digest: mol-refinery-patrol","description":"Patrol: processed 1 branch (nux-mk82fsav), rejected due to incorrect merge conflict resolution (duplicate declarations in prime.go). Notified nux. Queue empty.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T02:37:03.939756+01:00","updated_at":"2026-01-11T02:37:03.939756+01:00","closed_at":"2026-01-11T02:37:03.939694+01:00","close_reason":"Squashed from 11 wisps","dependencies":[{"issue_id":"gt-lh4","depends_on_id":"gt-wisp-1t5","type":"parent-child","created_at":"2026-01-11T02:37:03.940358+01:00","created_by":"gastown/refinery"}]}
{"id":"gt-ptp","title":"Digest: mol-refinery-patrol","description":"Patrol: no merge requests in queue","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T01:32:29.242313+01:00","updated_at":"2026-01-11T01:32:29.242313+01:00","closed_at":"2026-01-11T01:32:29.242263+01:00","close_reason":"Squashed from 11 wisps","dependencies":[{"issue_id":"gt-ptp","depends_on_id":"gt-wisp-4qf","type":"parent-child","created_at":"2026-01-11T01:32:29.242806+01:00","created_by":"refinery"}]}
{"id":"gt-r3u","title":"Digest: mol-refinery-patrol","description":"Patrol: no work in merge queue","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T02:31:25.976892+01:00","updated_at":"2026-01-11T02:31:25.976892+01:00","closed_at":"2026-01-11T02:31:25.976833+01:00","close_reason":"Squashed from 11 wisps","dependencies":[{"issue_id":"gt-r3u","depends_on_id":"gt-wisp-803","type":"parent-child","created_at":"2026-01-11T02:31:25.977483+01:00","created_by":"gastown/refinery"}]}
{"id":"gt-rig-gastown","title":"gastown","description":"Rig identity bead for gastown.\n\nrepo: https://github.com/steveyegge/gastown.git\nprefix: gt\nstate: active","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-11T00:44:47.576098+01:00","created_by":"mayor","updated_at":"2026-01-11T00:44:47.576098+01:00","labels":["gt:rig"]}
{"id":"gt-s76","title":"Merge: issue-289","description":"branch: issue-289-feed-stranded-convoys\ntarget: main\nsource_issue: issue-289\nrig: gastown","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-11T02:13:55.12183+01:00","created_by":"mayor","updated_at":"2026-01-11T02:16:50.335148+01:00","closed_at":"2026-01-11T02:16:50.335148+01:00","close_reason":"Merged to main after testing","labels":["gt:merge-request"]}
{"id":"gt-ta0","title":"Digest: mol-refinery-patrol","description":"Patrol: queue empty, 0 branches merged","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T01:57:03.976627+01:00","updated_at":"2026-01-11T01:57:03.976627+01:00","closed_at":"2026-01-11T01:57:03.976584+01:00","close_reason":"Squashed from 11 wisps","dependencies":[{"issue_id":"gt-ta0","depends_on_id":"gt-wisp-h2z","type":"parent-child","created_at":"2026-01-11T01:57:03.97705+01:00","created_by":"gastown/refinery"}]}
{"id":"gt-vwi","title":"Digest: mol-refinery-patrol","description":"Patrol: 0 merges, 1 conflict (prime.go/nux-mk82fsav), mail sent, awaiting rebase","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T01:04:24.801758+01:00","updated_at":"2026-01-11T01:04:24.801758+01:00","closed_at":"2026-01-11T01:04:24.801721+01:00","close_reason":"Squashed from 3 wisps"}
{"id":"gt-wisp-5mx","title":"Merge and push to main","description":"Merge to main and push. CRITICAL: Notifications come IMMEDIATELY after push.\n\n**Step 1: Merge and Push**\n```bash\ngit checkout main\ngit merge --ff-only temp\ngit push origin main\n```\n\n⚠️ **STOP HERE - DO NOT PROCEED UNTIL STEPS 2-3 COMPLETE**\n\n**Step 2: Send MERGED Notification (REQUIRED - DO THIS IMMEDIATELY)**\n\nRIGHT NOW, before any cleanup, send MERGED mail to Witness:\n\n```bash\ngt mail send \u003crig\u003e/witness -s \"MERGED \u003cpolecat-name\u003e\" -m \"Branch: \u003cbranch\u003e\nIssue: \u003cissue-id\u003e\nMerged-At: $(date -u +%Y-%m-%dT%H:%M:%SZ)\"\n```\n\nThis signals the Witness to nuke the polecat worktree. WITHOUT THIS NOTIFICATION,\nPOLECAT WORKTREES ACCUMULATE INDEFINITELY AND THE LIFECYCLE BREAKS.\n\n**Step 3: Close MR Bead (REQUIRED - DO THIS IMMEDIATELY)**\n\n⚠️ **VERIFICATION BEFORE CLOSING**: Confirm the work is actually on main:\n```bash\n# Get the commit message/issue from the branch\ngit log origin/main --oneline | grep \"\u003cissue-id\u003e\"\n# OR verify the commit SHA is on main:\ngit branch --contains \u003ccommit-sha\u003e | grep main\n```\n\nIf work is NOT on main, DO NOT close the MR bead. Investigate first.\n\n```bash\nbd close \u003cmr-bead-id\u003e --reason \"Merged to main at $(git rev-parse --short HEAD)\"\n```\n\nThe MR bead ID was in the MERGE_READY message or find via:\n```bash\nbd list --type=merge-request --status=open | grep \u003cpolecat-name\u003e\n```\n\n**VALIDATION**: The MR bead's source_issue should be a valid bead ID (gt-xxxxx),\nnot a branch name. If source_issue contains a branch name, flag for investigation.\n\n**Step 4: Archive the MERGE_READY mail (REQUIRED)**\n```bash\ngt mail archive \u003cmerge-ready-message-id\u003e\n```\nThe message ID was tracked when you processed inbox-check.\n\n**Step 5: Cleanup (only after Steps 2-4 confirmed)**\n```bash\ngit branch -d temp\ngit push origin --delete \u003cpolecat-branch\u003e\n```\n\n**VERIFICATION GATE**: You CANNOT proceed to loop-check without:\n- [x] MERGED mail sent to witness\n- [x] MR bead closed\n- [x] MERGE_READY mail archived\n\nIf you skipped notifications or archiving, GO BACK AND DO THEM NOW.\n\nMain has moved. Any remaining branches need rebasing on new baseline.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:04:19.902365-08:00","updated_at":"2026-01-07T00:04:19.902365-08:00"}
{"id":"gt-wisp-5p8","title":"Check own context limit","description":"Check own context usage.\n\nIf context is HIGH (\u003e80%):\n- Write handoff summary\n- Prepare for burn/respawn\n\nIf context is LOW:\n- Can continue processing","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:04:19.903921-08:00","updated_at":"2026-01-07T00:04:19.903921-08:00"}
{"id":"gt-wisp-atx","title":"Check refinery mail","description":"Check mail for MERGE_READY submissions, escalations, and messages.\n\n```bash\ngt mail inbox\n```\n\nFor each message:\n\n**MERGE_READY**:\nA polecat's work is ready for merge. Extract details and track for processing.\n\n```bash\n# Parse MERGE_READY message body:\n# Branch: \u003cbranch\u003e\n# Issue: \u003cissue-id\u003e\n# Polecat: \u003cpolecat-name\u003e\n# MR: \u003cmr-bead-id\u003e\n# Verified: clean git state, issue closed\n\n# Track in your merge queue for this patrol cycle:\n# - Branch name\n# - Issue ID\n# - Polecat name (REQUIRED for MERGED notification)\n# - MR bead ID (REQUIRED for closing after merge)\n```\n\n**IMPORTANT**: You MUST track the polecat name, MR bead ID, AND message ID - you will need them\nin merge-push step to send MERGED notification, close the MR bead, and archive the mail.\n\nMark as read. The work will be processed in queue-scan/process-branch.\n**Do NOT archive yet** - archive after merge/reject decision in merge-push step.\n\n**PATROL: Wake up**:\nWitness detected MRs waiting but refinery idle. Acknowledge and archive:\n```bash\ngt mail archive \u003cmessage-id\u003e\n```\n\n**HELP / Blocked**:\nAssess and respond. If you can't help, escalate to Mayor.\nArchive after handling:\n```bash\ngt mail archive \u003cmessage-id\u003e\n```\n\n**HANDOFF**:\nRead predecessor context. Check for in-flight merges.\nArchive after absorbing context:\n```bash\ngt mail archive \u003cmessage-id\u003e\n```\n\n**Hygiene principle**: Archive messages after they're fully processed.\nKeep only: pending MRs in queue. Inbox should be near-empty.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T00:04:19.899681-08:00","updated_at":"2026-01-11T02:18:28.856894+01:00","closed_at":"2026-01-11T02:18:28.856894+01:00","close_reason":"Closed"}
{"id":"gt-wisp-bls","title":"Handle test failures","description":"**VERIFICATION GATE**: This step enforces the Beads Promise.\n\nIf tests PASSED: This step auto-completes. Proceed to merge.\n\nIf tests FAILED:\n1. Diagnose: Is this a branch regression or pre-existing on main?\n2. If branch caused it:\n   - Abort merge\n   - Notify polecat: \"Tests failing. Please fix and resubmit.\"\n   - Skip to loop-check\n3. If pre-existing on main:\n   - Option A: Fix it yourself (you're the Engineer!)\n   - Option B: File a bead: bd create --type=bug --priority=1 --title=\"...\"\n\n**GATE REQUIREMENT**: You CANNOT proceed to merge-push without:\n- Tests passing, OR\n- Fix committed, OR\n- Bead filed for the failure\n\nThis is non-negotiable. Never disavow. Never \"note and proceed.\" ","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T00:04:19.901847-08:00","updated_at":"2026-01-11T02:19:22.367117+01:00","closed_at":"2026-01-11T02:19:22.367117+01:00","close_reason":"Closed"}
{"id":"gt-wisp-cy0","title":"Run test suite","description":"Run the test suite.\n\n```bash\ngo test ./...\n```\n\nTrack results: pass count, fail count, specific failures.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T00:04:19.901338-08:00","updated_at":"2026-01-11T02:19:04.148799+01:00","closed_at":"2026-01-11T02:19:04.148799+01:00","close_reason":"Closed"}
{"id":"gt-wisp-f5f","title":"Generate handoff summary","description":"Summarize this patrol cycle.\n\n**VERIFICATION**: Before generating summary, confirm for each merged branch:\n- [ ] MERGED mail was sent to witness\n- [ ] MR bead was closed\n- [ ] MERGE_READY mail archived\n\nIf any notifications or archiving were missed, do them now!\n\nInclude in summary:\n- Branches merged (count, names)\n- MERGED mails sent (count - should match branches merged)\n- MR beads closed (count - should match branches merged)\n- MERGE_READY mails archived (count - should match branches merged)\n- Test results (pass/fail)\n- Branches with conflicts (count, names)\n- Conflict-resolution tasks created (IDs)\n- Issues filed (if any)\n- Any escalations sent\n\n**Conflict tracking is important** for monitoring MQ health. If many branches\nconflict, it may indicate main is moving too fast or branches are too stale.\n\nThis becomes the digest when the patrol is squashed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:04:19.903406-08:00","updated_at":"2026-01-07T00:04:19.903406-08:00"}
{"id":"gt-wisp-k2v","title":"Check for more work","description":"More branches to process?\n\n**Entry paths:**\n- Normal: After successful merge-push\n- Conflict-skip: After process-branch created conflict-resolution task\n\nIf yes: Return to process-branch with next branch.\nIf no: Continue to generate-summary.\n\n**Track for this cycle:**\n- branches_merged: count and names of successfully merged branches\n- branches_conflict: count and names of branches skipped due to conflicts\n- conflict_tasks: IDs of conflict-resolution tasks created\n\nThis tracking feeds into generate-summary for the patrol digest.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:04:19.902887-08:00","updated_at":"2026-01-07T00:04:19.902887-08:00"}
{"id":"gt-wisp-zuq","title":"Burn and respawn or loop","description":"End of patrol cycle decision.\n\n**Step 1: Estimate remaining context**\n\nAsk yourself:\n- Have I processed many branches this cycle?\n- Is the conversation getting long?\n- Am I starting to lose track of earlier context?\n\nRule of thumb: If you've done 3+ merges or processed significant cleanup work,\nit's time for a fresh session.\n\n**Step 2: Decision tree**\n\nIf queue non-empty AND context LOW:\n- Squash this wisp to digest\n- Spawn fresh patrol wisp\n- Return to inbox-check\n\nIf queue empty OR context HIGH OR good stopping point:\n- Squash wisp with summary digest\n- Use `gt handoff` for clean session transition:\n\n```bash\ngt handoff -s \"Patrol complete\" -m \"Merged X branches, Y tests passed.\nQueue: empty/N remaining\nNext: [any notes for successor]\"\n```\n\n**Why gt handoff?**\n- Sends handoff mail to yourself with context\n- Respawns with fresh Claude instance\n- SessionStart hook runs gt prime\n- Successor picks up from your hook\n\n**DO NOT just exit.** Always use `gt handoff` for proper lifecycle.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T00:04:19.904942-08:00","updated_at":"2026-01-07T00:04:19.904942-08:00"}
{"id":"gt-wrn","title":"Deacon Patrol","description":"Mayor's daemon patrol loop for handling callbacks, health checks, and cleanup.","status":"open","priority":2,"issue_type":"molecule","created_at":"2026-01-11T00:44:47.148653+01:00","created_by":"mayor","updated_at":"2026-01-11T00:44:47.148653+01:00"}
{"id":"gt-ws3","title":"Witness Patrol","description":"Per-rig worker monitor patrol loop with progressive nudging.","status":"open","priority":2,"issue_type":"molecule","created_at":"2026-01-11T00:44:47.292701+01:00","created_by":"mayor","updated_at":"2026-01-11T00:44:47.292701+01:00"}
